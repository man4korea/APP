# ğŸ“ C:\xampp\htdocs\BPM\api\openapi.yaml
# Create at 2508031149 Ver1.00

openapi: 3.0.3
info:
  title: BPM Total Business Process Management API
  description: |
    ## Total Business Process Management SaaS API
    
    10ê°œ ëª¨ë“ˆì„ í†µí•œ ì¢…í•©ì ì¸ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ
    
    ### í•µì‹¬ íŠ¹ì§•
    - **ë©€í‹°í…Œë„ŒíŠ¸ ì•„í‚¤í…ì²˜**: íšŒì‚¬ë³„ ì™„ì „ ë°ì´í„° ë¶„ë¦¬
    - **JWT ê¸°ë°˜ ì¸ì¦**: í™•ì¥ ê°€ëŠ¥í•œ í† í° ê¸°ë°˜ ì¸ì¦
    - **ëª¨ë“ˆë³„ ìƒ‰ìƒ í…Œë§ˆ**: ë¬´ì§€ê°œ ìƒ‰ìƒ ê¸°ë°˜ UX
    - **RESTful API**: í‘œì¤€ REST API ì„¤ê³„
    
    ### ëª¨ë“ˆë³„ ìƒ‰ìƒ í…Œë§ˆ
    - ğŸ”´ ì¡°ì§ê´€ë¦¬: #ff6b6b
    - ğŸŸ  êµ¬ì„±ì›ê´€ë¦¬: #ff9f43
    - ğŸŸ¡ Taskê´€ë¦¬: #feca57
    - ğŸŸ¢ ë¬¸ì„œê´€ë¦¬: #55a3ff
    - ğŸ”µ Process Mapê´€ë¦¬: #3742fa
    - ğŸŸ£ ì—…ë¬´Flowê´€ë¦¬: #a55eea
    
    ### ì¸ì¦ ë°©ë²•
    JWT Bearer í† í°ì„ Authorization í—¤ë”ì— í¬í•¨:
    ```
    Authorization: Bearer <your-jwt-token>
    ```
    
  version: 1.0.0
  contact:
    name: BPM API Support
    url: https://api.bpm.example.com/support
    email: api@bpm.example.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://api.bpm.example.com/v1
    description: Production Server
  - url: https://staging-api.bpm.example.com/v1
    description: Staging Server
  - url: http://localhost/BPM/api/v1
    description: Local Development Server

# ë³´ì•ˆ ìŠ¤í‚¤ë§ˆ ì •ì˜
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Bearer í† í° ì¸ì¦
    
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: API í‚¤ ê¸°ë°˜ ì¸ì¦ (ì„œë²„ê°„ í†µì‹ ìš©)
      
  # ê³µí†µ ìŠ¤í‚¤ë§ˆ ì •ì˜
  schemas:
    # ê¸°ë³¸ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ
    ApiResponse:
      type: object
      properties:
        success:
          type: boolean
          description: ìš”ì²­ ì„±ê³µ ì—¬ë¶€
        message:
          type: string
          description: ì‘ë‹µ ë©”ì‹œì§€
        data:
          type: object
          description: ì‹¤ì œ ë°ì´í„°
        errors:
          type: array
          items:
            $ref: '#/components/schemas/Error'
          description: ì˜¤ë¥˜ ëª©ë¡
        meta:
          $ref: '#/components/schemas/MetaData'
          
    # ì˜¤ë¥˜ ìŠ¤í‚¤ë§ˆ
    Error:
      type: object
      properties:
        code:
          type: string
          description: ì˜¤ë¥˜ ì½”ë“œ
        message:
          type: string
          description: ì˜¤ë¥˜ ë©”ì‹œì§€
        field:
          type: string
          description: ì˜¤ë¥˜ ë°œìƒ í•„ë“œ (ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜ì‹œ)
          
    # ë©”íƒ€ë°ì´í„° ìŠ¤í‚¤ë§ˆ  
    MetaData:
      type: object
      properties:
        total:
          type: integer
          description: ì „ì²´ ë ˆì½”ë“œ ìˆ˜
        page:
          type: integer
          description: í˜„ì¬ í˜ì´ì§€
        per_page:
          type: integer
          description: í˜ì´ì§€ë‹¹ ë ˆì½”ë“œ ìˆ˜
        last_page:
          type: integer
          description: ë§ˆì§€ë§‰ í˜ì´ì§€
          
    # ì‚¬ìš©ì ìŠ¤í‚¤ë§ˆ
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ì‚¬ìš©ì ê³ ìœ  ID
        email:
          type: string
          format: email
          description: ì´ë©”ì¼ ì£¼ì†Œ
        name:
          type: string
          description: ì‚¬ìš©ì ì´ë¦„
        avatar:
          type: string
          format: uri
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ URL
        status:
          type: string
          enum: [active, inactive, suspended]
          description: ì‚¬ìš©ì ìƒíƒœ
        created_at:
          type: string
          format: date-time
          description: ìƒì„±ì¼ì‹œ
        updated_at:
          type: string
          format: date-time
          description: ìˆ˜ì •ì¼ì‹œ
          
    # íšŒì‚¬ ìŠ¤í‚¤ë§ˆ
    Company:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: íšŒì‚¬ ê³ ìœ  ID
        name:
          type: string
          description: íšŒì‚¬ëª…
        domain:
          type: string
          description: íšŒì‚¬ ë„ë©”ì¸
        logo:
          type: string
          format: uri
          description: íšŒì‚¬ ë¡œê³  URL
        settings:
          type: object
          description: íšŒì‚¬ë³„ ì„¤ì •
        subscription_plan:
          type: string
          enum: [free, pro, enterprise]
          description: êµ¬ë… í”Œëœ
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
          
    # ë¶€ì„œ ìŠ¤í‚¤ë§ˆ
    Department:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          description: ë¶€ì„œëª…
        parent_id:
          type: string
          format: uuid
          nullable: true
          description: ìƒìœ„ ë¶€ì„œ ID
        manager_id:
          type: string
          format: uuid
          nullable: true
          description: ë¶€ì„œì¥ ID
        level:
          type: integer
          description: ë¶€ì„œ ê³„ì¸µ ë ˆë²¨
        sort_order:
          type: integer
          description: ì •ë ¬ ìˆœì„œ
        status:
          type: string
          enum: [active, inactive]
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
          
    # Task ìŠ¤í‚¤ë§ˆ
    Task:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
          description: Task ì œëª©
        description:
          type: string
          description: Task ì„¤ëª…
        category:
          type: string
          enum: [DB, CM, DM]
          description: Task ì¹´í…Œê³ ë¦¬
        type:
          type: string
          description: Task íƒ€ì…
        priority:
          type: string
          enum: [low, medium, high, urgent]
          description: ìš°ì„ ìˆœìœ„
        status:
          type: string
          enum: [pending, in_progress, completed, cancelled]
          description: ì§„í–‰ ìƒíƒœ
        assigned_to:
          type: string
          format: uuid
          nullable: true
          description: ë‹´ë‹¹ì ID
        due_date:
          type: string
          format: date-time
          nullable: true
          description: ë§ˆê°ì¼
        estimated_hours:
          type: number
          format: float
          description: ì˜ˆìƒ ì†Œìš”ì‹œê°„
        actual_hours:
          type: number
          format: float
          description: ì‹¤ì œ ì†Œìš”ì‹œê°„
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
          
    # ë¬¸ì„œ ìŠ¤í‚¤ë§ˆ
    Document:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
          description: ë¬¸ì„œ ì œëª©
        description:
          type: string
          description: ë¬¸ì„œ ì„¤ëª…
        category:
          type: string
          description: ë¬¸ì„œ ì¹´í…Œê³ ë¦¬
        file_path:
          type: string
          description: íŒŒì¼ ê²½ë¡œ
        file_size:
          type: integer
          description: íŒŒì¼ í¬ê¸° (ë°”ì´íŠ¸)
        mime_type:
          type: string
          description: MIME íƒ€ì…
        version:
          type: string
          description: ë¬¸ì„œ ë²„ì „
        status:
          type: string
          enum: [draft, published, archived]
          description: ë¬¸ì„œ ìƒíƒœ
        tags:
          type: array
          items:
            type: string
          description: ë¬¸ì„œ íƒœê·¸
        created_by:
          type: string
          format: uuid
          description: ì‘ì„±ì ID
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

# ì „ì—­ ë³´ì•ˆ ì ìš©
security:
  - BearerAuth: []

# API ê²½ë¡œ ì •ì˜
paths:
  # ì¸ì¦ API
  /auth/login:
    post:
      tags:
        - Authentication
      summary: ì‚¬ìš©ì ë¡œê·¸ì¸
      description: ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì—¬ JWT í† í°ì„ ë°›ìŠµë‹ˆë‹¤.
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: "user@example.com"
                password:
                  type: string
                  format: password
                  example: "password123"
                remember_me:
                  type: boolean
                  description: ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ ì—¬ë¶€
                  example: false
      responses:
        '200':
          description: ë¡œê·¸ì¸ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                            description: JWT ì•¡ì„¸ìŠ¤ í† í°
                          refresh_token:
                            type: string
                            description: ë¦¬í”„ë ˆì‹œ í† í°
                          expires_in:
                            type: integer
                            description: í† í° ë§Œë£Œ ì‹œê°„ (ì´ˆ)
                          user:
                            $ref: '#/components/schemas/User'
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
              example:
                success: false
                message: "ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."
                
  /auth/logout:
    post:
      tags:
        - Authentication
      summary: ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ
      description: í˜„ì¬ JWT í† í°ì„ ë¬´íš¨í™”í•©ë‹ˆë‹¤.
      responses:
        '200':
          description: ë¡œê·¸ì•„ì›ƒ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '401':
          description: ì¸ì¦ë˜ì§€ ì•Šì€ ìš”ì²­
          
  /auth/refresh:
    post:
      tags:
        - Authentication
      summary: í† í° ê°±ì‹ 
      description: ë¦¬í”„ë ˆì‹œ í† í°ìœ¼ë¡œ ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                  description: ë¦¬í”„ë ˆì‹œ í† í°
      responses:
        '200':
          description: í† í° ê°±ì‹  ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          token:
                            type: string
                          expires_in:
                            type: integer

  # ì‚¬ìš©ì API
  /users/me:
    get:
      tags:
        - Users
      summary: í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
      description: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      responses:
        '200':
          description: ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/User'
                        
  # íšŒì‚¬ API
  /companies:
    get:
      tags:
        - Companies
      summary: íšŒì‚¬ ëª©ë¡ ì¡°íšŒ
      description: ì‚¬ìš©ìê°€ ì†í•œ íšŒì‚¬ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: per_page
          in: query
          description: í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: íšŒì‚¬ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Company'
                          
    post:
      tags:
        - Companies
      summary: ìƒˆ íšŒì‚¬ ìƒì„±
      description: ìƒˆë¡œìš´ íšŒì‚¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - domain
              properties:
                name:
                  type: string
                  example: "Example Company"
                domain:
                  type: string
                  example: "example.com"
                logo:
                  type: string
                  format: uri
                  example: "https://example.com/logo.png"
      responses:
        '201':
          description: íšŒì‚¬ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Company'
                        
  /companies/{company_id}:
    get:
      tags:
        - Companies
      summary: íšŒì‚¬ ìƒì„¸ ì •ë³´ ì¡°íšŒ
      description: íŠ¹ì • íšŒì‚¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          description: íšŒì‚¬ ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: íšŒì‚¬ ì •ë³´ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Company'
        '404':
          description: íšŒì‚¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
          
  # ë¶€ì„œ API
  /companies/{company_id}/departments:
    get:
      tags:
        - Departments
      summary: ë¶€ì„œ ëª©ë¡ ì¡°íšŒ
      description: íšŒì‚¬ì˜ ë¶€ì„œ ëª©ë¡ì„ ê³„ì¸µêµ¬ì¡°ë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: parent_id
          in: query
          description: ìƒìœ„ ë¶€ì„œ ID (í•˜ìœ„ ë¶€ì„œë§Œ ì¡°íšŒì‹œ)
          schema:
            type: string
            format: uuid
        - name: level
          in: query
          description: ë¶€ì„œ ê³„ì¸µ ë ˆë²¨
          schema:
            type: integer
            minimum: 1
      responses:
        '200':
          description: ë¶€ì„œ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Department'
                          
    post:
      tags:
        - Departments
      summary: ìƒˆ ë¶€ì„œ ìƒì„±
      description: ìƒˆë¡œìš´ ë¶€ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "ê°œë°œíŒ€"
                parent_id:
                  type: string
                  format: uuid
                  nullable: true
                  description: "ìƒìœ„ ë¶€ì„œ ID"
                manager_id:
                  type: string
                  format: uuid
                  nullable: true
                  description: "ë¶€ì„œì¥ ID"
      responses:
        '201':
          description: ë¶€ì„œ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Department'

  # Task API  
  /companies/{company_id}/tasks:
    get:
      tags:
        - Tasks
      summary: Task ëª©ë¡ ì¡°íšŒ
      description: íšŒì‚¬ì˜ Task ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: Task ìƒíƒœ í•„í„°
          schema:
            type: string
            enum: [pending, in_progress, completed, cancelled]
        - name: priority
          in: query
          description: ìš°ì„ ìˆœìœ„ í•„í„°
          schema:
            type: string
            enum: [low, medium, high, urgent]
        - name: assigned_to
          in: query
          description: ë‹´ë‹¹ì ID í•„í„°
          schema:
            type: string
            format: uuid
        - name: category
          in: query
          description: ì¹´í…Œê³ ë¦¬ í•„í„°
          schema:
            type: string
            enum: [DB, CM, DM]
        - name: due_date_from
          in: query
          description: ë§ˆê°ì¼ ì‹œì‘ ë²”ìœ„
          schema:
            type: string
            format: date
        - name: due_date_to
          in: query
          description: ë§ˆê°ì¼ ë ë²”ìœ„
          schema:
            type: string
            format: date
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: sort_by
          in: query
          description: ì •ë ¬ ê¸°ì¤€
          schema:
            type: string
            enum: [created_at, due_date, priority, status]
            default: created_at
        - name: sort_order
          in: query
          description: ì •ë ¬ ìˆœì„œ
          schema:
            type: string
            enum: [asc, desc]
            default: desc
      responses:
        '200':
          description: Task ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Task'

    post:
      tags:
        - Tasks
      summary: ìƒˆ Task ìƒì„±
      description: ìƒˆë¡œìš´ Taskë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - category
                - priority
              properties:
                title:
                  type: string
                  example: "ê³ ê° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜"
                description:
                  type: string
                  example: "ê¸°ì¡´ ì‹œìŠ¤í…œì—ì„œ ì‹ ê·œ ì‹œìŠ¤í…œìœ¼ë¡œ ê³ ê° ë°ì´í„°ë¥¼ ì´ì „í•©ë‹ˆë‹¤."
                category:
                  type: string
                  enum: [DB, CM, DM]
                  example: "DM"
                type:
                  type: string
                  example: "migration"
                priority:
                  type: string
                  enum: [low, medium, high, urgent]
                  example: "high"
                assigned_to:
                  type: string
                  format: uuid
                  nullable: true
                due_date:
                  type: string
                  format: date-time
                  nullable: true
                estimated_hours:
                  type: number
                  format: float
                  example: 8.0
      responses:
        '201':
          description: Task ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Task'

  /companies/{company_id}/tasks/{task_id}:
    get:
      tags:
        - Tasks
      summary: Task ìƒì„¸ ì •ë³´ ì¡°íšŒ
      description: íŠ¹ì • Taskì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: task_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Task ì •ë³´ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Task'
        '404':
          description: Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
          
    put:
      tags:
        - Tasks
      summary: Task ì •ë³´ ìˆ˜ì •
      description: Task ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: task_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                priority:
                  type: string
                  enum: [low, medium, high, urgent]
                status:
                  type: string
                  enum: [pending, in_progress, completed, cancelled]
                assigned_to:
                  type: string
                  format: uuid
                  nullable: true
                due_date:
                  type: string
                  format: date-time
                  nullable: true
                estimated_hours:
                  type: number
                  format: float
                actual_hours:
                  type: number
                  format: float
      responses:
        '200':
          description: Task ìˆ˜ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Task'
        '404':
          description: Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
          
    delete:
      tags:
        - Tasks
      summary: Task ì‚­ì œ
      description: Taskë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: task_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Task ì‚­ì œ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
        '404':
          description: Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

  # ë¬¸ì„œ API
  /companies/{company_id}/documents:
    get:
      tags:
        - Documents
      summary: ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ
      description: íšŒì‚¬ì˜ ë¬¸ì„œ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: category
          in: query
          description: ë¬¸ì„œ ì¹´í…Œê³ ë¦¬ í•„í„°
          schema:
            type: string
        - name: status
          in: query
          description: ë¬¸ì„œ ìƒíƒœ í•„í„°
          schema:
            type: string
            enum: [draft, published, archived]
        - name: search
          in: query
          description: ë¬¸ì„œ ì œëª©/ë‚´ìš© ê²€ìƒ‰
          schema:
            type: string
        - name: tags
          in: query
          description: íƒœê·¸ í•„í„° (ì‰¼í‘œë¡œ êµ¬ë¶„)
          schema:
            type: string
            example: "api,documentation,guide"
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document'

    post:
      tags:
        - Documents
      summary: ìƒˆ ë¬¸ì„œ ì—…ë¡œë“œ
      description: ìƒˆë¡œìš´ ë¬¸ì„œë¥¼ ì—…ë¡œë“œí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
                - title
                - category
              properties:
                file:
                  type: string
                  format: binary
                  description: ì—…ë¡œë“œí•  íŒŒì¼
                title:
                  type: string
                  example: "API ê°œë°œ ê°€ì´ë“œ"
                description:
                  type: string
                  example: "RESTful API ê°œë°œì„ ìœ„í•œ ê°€ì´ë“œë¼ì¸"
                category:
                  type: string
                  example: "documentation"
                tags:
                  type: string
                  example: "api,development,guide"
                  description: "íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)"
      responses:
        '201':
          description: ë¬¸ì„œ ì—…ë¡œë“œ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/Document'

  # í†µê³„ API
  /companies/{company_id}/analytics/dashboard:
    get:
      tags:
        - Analytics
      summary: ëŒ€ì‹œë³´ë“œ í†µê³„ ì¡°íšŒ
      description: íšŒì‚¬ì˜ ì£¼ìš” í†µê³„ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
      parameters:
        - name: company_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: period
          in: query
          description: í†µê³„ ê¸°ê°„
          schema:
            type: string
            enum: [day, week, month, quarter, year]
            default: month
        - name: start_date
          in: query
          description: ì‹œì‘ ë‚ ì§œ
          schema:
            type: string
            format: date
        - name: end_date
          in: query
          description: ì¢…ë£Œ ë‚ ì§œ
          schema:
            type: string
            format: date
      responses:
        '200':
          description: í†µê³„ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiResponse'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          summary:
                            type: object
                            properties:
                              total_users:
                                type: integer
                              total_tasks:
                                type: integer
                              completed_tasks:
                                type: integer
                              total_documents:
                                type: integer
                          task_stats:
                            type: object
                            properties:
                              by_status:
                                type: object
                              by_priority:
                                type: object
                              by_category:
                                type: object
                          user_activity:
                            type: array
                            items:
                              type: object
                              properties:
                                date:
                                  type: string
                                  format: date
                                active_users:
                                  type: integer

# íƒœê·¸ ì •ì˜
tags:
  - name: Authentication
    description: ì‚¬ìš©ì ì¸ì¦ ê´€ë ¨ API
  - name: Users
    description: ì‚¬ìš©ì ê´€ë¦¬ API
  - name: Companies
    description: íšŒì‚¬ ê´€ë¦¬ API
  - name: Departments
    description: ë¶€ì„œ ê´€ë¦¬ API (ì¡°ì§ê´€ë¦¬ ëª¨ë“ˆ)
  - name: Tasks
    description: Task ê´€ë¦¬ API (Taskê´€ë¦¬ ëª¨ë“ˆ)
  - name: Documents
    description: ë¬¸ì„œ ê´€ë¦¬ API (ë¬¸ì„œê´€ë¦¬ ëª¨ë“ˆ)
  - name: Analytics
    description: í†µê³„ ë° ë¶„ì„ API

# ì™¸ë¶€ ë¬¸ì„œ ë§í¬
externalDocs:
  description: BPM API ê°œë°œì ê°€ì´ë“œ
  url: https://docs.bpm.example.com